<?php/** * 'hbupro_banner' Shortcode *  * @package hero-banner-ultimate * @since 1.0.0 */// Exit if accessed directlyif ( !defined( 'ABSPATH' ) ) exit;function hbu_shortcode( $atts, $content = null ) {		// Shortcode Parameter	extract(shortcode_atts(array(		'id'     		=> 0			), $atts));	// If id is not there then return	if( empty($id) ) {		return $content;	}		// Taking some variables	$prefix = HBU_META_PREFIX; // Metabox prefix		// Getting post data	$post_data = get_post($id);	$unique = hbu_get_unique();			ob_start();	// If it is button post type and post is publish	if(isset($post_data->post_type) && $post_data->post_type == HBU_POST_TYPE && $post_data->post_status == 'publish') {				// Getting button type		$banner_type 				= get_post_meta( $id, $prefix.'banner_type', true );				$banner_layout 				= get_post_meta( $id, $prefix.'banner_layout', true );		$banner_bg_color 			= get_post_meta( $id, $prefix.'banner_bg_color', true );		$banner_image_url 			= get_post_meta( $id, $prefix.'banner_image_url', true );				$banner_bg_size 			= get_post_meta( $id, $prefix.'banner_bg_size', true );		$banner_bg_attachemnt 		= get_post_meta( $id, $prefix.'banner_bg_attachemnt', true );		$banner_bg_position 		= get_post_meta( $id, $prefix.'banner_bg_position', true );		$banner_padding_top 		= get_post_meta( $id, $prefix.'banner_padding_top', true );				$banner_padding_right 		= get_post_meta( $id, $prefix.'banner_padding_right', true );		$banner_padding_bottom 		= get_post_meta( $id, $prefix.'banner_padding_bottom', true );		$banner_padding_left 		= get_post_meta( $id, $prefix.'banner_padding_left', true );				$banner_video_url 			= get_post_meta( $id, $prefix.'banner_video_url', true );		$banner_vmvideo_url 		= get_post_meta( $id, $prefix.'banner_vmvideo_url', true );			$banner_ovelay_color 		= get_post_meta( $id, $prefix.'banner_ovelay_color', true );		$banner_ovelay_opacity 		= get_post_meta( $id, $prefix.'banner_ovelay_opacity', true );		$banner_title_color 		= get_post_meta( $id, $prefix.'banner_title_color', true );		$banner_content_color 		= get_post_meta( $id, $prefix.'banner_content_color', true );		$banner_title_fontsize 		= get_post_meta( $id, $prefix.'banner_title_fontsize', true );		$banner_subtitle_fontsize 	= get_post_meta( $id, $prefix.'banner_subtitle_fontsize', true );		$banner_button_one_name 	= get_post_meta( $id, $prefix.'banner_button_one_name', true );		$banner_button_one_link 	= get_post_meta( $id, $prefix.'banner_button_one_link', true );		$banner_button_two_name 	= get_post_meta( $id, $prefix.'banner_button_two_name', true );		$banner_button_two_link 	= get_post_meta( $id, $prefix.'banner_button_two_link', true );			$banner_wrap_width 			= get_post_meta( $id, $prefix.'banner_wrap_width', true );		$banner_button_one_class 	= get_post_meta( $id, $prefix.'banner_button_one_class', true );			$banner_button_two_class 	= get_post_meta( $id, $prefix.'banner_button_two_class', true );							$banner_bg_color_set = '';		$banner_ovelay_color_set = '';		$banner_bg_position_set = '';						if(!empty($banner_bg_color)) { $banner_bg_color_set = $banner_bg_color; }		if(!empty($banner_title_fontsize)) { $banner_title_fontsize_set = $banner_title_fontsize; } else { $banner_title_fontsize_set = '40'; }		if(!empty($banner_subtitle_fontsize)) { $banner_subtitle_fontsize_set = $banner_subtitle_fontsize; } else { $banner_subtitle_fontsize_set = '20'; }		if(!empty($banner_title_color)) { $banner_title_color_set = $banner_title_color; } else { $banner_title_color_set = '#fff'; }		if(!empty($banner_content_color)) { $banner_content_color_set = $banner_content_color; } else { $banner_content_color_set = '#fff'; }		if(!empty($banner_ovelay_opacity)) { $banner_ovelay_opacity_set = $banner_ovelay_opacity; } else { $banner_ovelay_opacity_set = '0.5'; }		if(!empty($banner_ovelay_color)) { $banner_ovelay_color_set = hbu_hex2rgb($banner_ovelay_color).','.$banner_ovelay_opacity_set; }				if(!empty($banner_bg_size)) { $banner_bg_size_set = $banner_bg_size; } else { $banner_bg_size_set = 'cover'; }		if(!empty($banner_bg_attachemnt)) { $banner_bg_attachemnt_set = $banner_bg_attachemnt; } else { $banner_bg_attachemnt_set = 'fixed'; } 		if(!empty($banner_bg_position)) { $banner_bg_position_set = $banner_bg_position; }  else { $banner_bg_position_set = '50'; } 				if(!empty($banner_padding_top)) { $banner_padding_top_set = $banner_padding_top; } else { $banner_padding_top_set = '150px'; } 		if(!empty($banner_padding_right)) { $banner_padding_right_set = $banner_padding_right; } else { $banner_padding_right_set = '0px'; } 		if(!empty($banner_padding_bottom)) { $banner_padding_bottom_set = $banner_padding_bottom; } else { $banner_padding_bottom_set = '150px'; } 		if(!empty($banner_padding_left)) { $banner_padding_left_set = $banner_padding_left; } else { $banner_padding_left_set = '0px'; } 		if(!empty($banner_wrap_width)) { $banner_wrap_width_set = $banner_wrap_width; } else { $banner_wrap_width_set = '1024'; }		?>					<style type="text/css">			<?php if ($banner_type == 'bgcolor'){ ?>											.hbupro-hero-banner-wrp-<?php echo $unique; ?> .hbupro-hero-banner{background-color: <?php echo esc_attr($banner_bg_color_set); ?>; }															<?php }			if ($banner_type == 'bgcolor_image') { 				 ?>				.hbupro-hero-banner-wrp-<?php echo $unique; ?> .hbupro-hero-banner{background-color: <?php echo esc_attr($banner_bg_color_set); ?>; background-image: url(<?php echo esc_url($banner_image_url); ?>); 	background-size:<?php echo $banner_bg_size_set; ?>; background-position: <?php echo esc_attr($banner_bg_position_set); ?>% center;	 background-attachment: <?php echo esc_attr($banner_bg_attachemnt_set); ?> }				<?php 	}			if ($banner_type == 'image'){ ?>				.hbupro-hero-banner-wrp-<?php echo $unique; ?> .hbupro-hero-banner{ background-image: url(<?php echo esc_url($banner_image_url); ?>); background-size:<?php echo esc_attr($banner_bg_size_set); ?>; background-position: <?php echo esc_attr($banner_bg_position_set); ?>% center; background-attachment: <?php echo esc_attr($banner_bg_attachemnt_set); ?> }			<?php } 			if(!empty($banner_ovelay_color)) { ?>				.hbupro-hero-banner-wrp-<?php echo $unique; ?> .hbupro-hero-banner .hbupro-hero-banner-inner{background-color:rgba(<?php echo esc_attr($banner_ovelay_color_set); ?> );} 			<?php }			if ($banner_type == 'video'){ ?>				.hbupro-hero-banner-wrp-<?php echo $unique; ?> .hbupro-hero-banner{background:none !important;); }			<?php } 			if ($banner_type == 'video_image'){ ?>				.hbupro-hero-banner-wrp-<?php echo $unique; ?> .hbupro-hero-banner-inner{background-image: url(<?php echo esc_url($banner_image_url); ?>); background-size:<?php echo esc_attr($banner_bg_size_set); ?>; background-position: <?php echo esc_attr($banner_bg_position_set); ?>% center;	 background-attachment: <?php echo esc_attr($banner_bg_attachemnt_set); ?> }			<?php } ?>			.hbupro-hero-banner-wrp-<?php echo $unique; ?> .hbupro-hero-banner-inner-wrap{max-width: <?php echo esc_attr($banner_wrap_width_set); ?>px;}			.hbupro-hero-banner-wrp-<?php echo $unique; ?> .hbupro-hero-banner h2.hbupro-hero-banner-title{font-size: <?php echo esc_attr($banner_title_fontsize_set); ?>px !important; line-height: <?php echo esc_attr($banner_title_fontsize_set); ?>px !important;  color:<?php echo esc_attr($banner_title_color_set); ?> }			.hbupro-hero-banner-wrp-<?php echo $unique; ?> .hbupro-hero-banner .hbupro-hero-banner-sub-title p{font-size: <?php echo esc_attr($banner_subtitle_fontsize_set); ?>px !important;  color:<?php echo esc_attr($banner_content_color_set); ?> }			.hbupro-hero-banner-wrp-<?php echo $unique; ?> .hbupro-hero-banner-inner{padding:<?php echo esc_attr($banner_padding_top_set); ?> <?php echo esc_attr($banner_padding_right_set); ?> <?php echo esc_attr($banner_padding_bottom_set); ?> <?php echo esc_attr($banner_padding_left_set); ?>}		</style>			<?php		// Shortcode file		$banner_design_file_path 	= HBU_DIR . '/templates/' . $banner_layout . '.php';		$design_file 			= (file_exists($banner_design_file_path)) ? $banner_design_file_path : '';							$banner_title   = get_the_title(get_post($id));		$content_post 	= get_post($id);		$hbupro_content = $content_post->post_content;		$hbupro_content = apply_filters('the_content', $hbupro_content);		$hbupro_content = str_replace(']]>', ']]&gt;', $hbupro_content);							if ($banner_type == 'video_image' || $banner_type == 'video'){ 			wp_enqueue_script( 'hbu-video-script' );		}		?>		<div class="hbupro-hero-banner-wrp-<?php echo $unique; ?> hbupro-clearfix hbupro-<?php echo $banner_layout; ?>">			<div class="hbupro-hero-banner hbupro-clearfix">			<?php if ($banner_type == 'video_image' || $banner_type == 'video'){ ?>				 <div id="player-<?php echo $unique; ?>" class="container-player"></div>			<?php } // Include shortcode html file					if( $design_file ) {						include( $design_file );					}						?>			</div>			</div>		<?php if ($banner_type == 'video_image' || $banner_type == 'video'){  ?>			<script>			 jQuery(function() {				jQuery('#player-<?php echo $unique; ?>').ContainerPlayer({				<?php if (!empty($banner_video_url)) { ?>													youTube: {  						videoId: '<?php echo $banner_video_url; ?>',													}				<?php } else if(!empty($banner_vmvideo_url)) { ?>						vimeo: {												videoId: '<?php echo $banner_vmvideo_url; ?>',                  					}				<?php } ?>					   				});			 });								</script>		<?php		}	}	wp_reset_postdata(); 	$content .= ob_get_clean();	return $content;	}// 'popup_anything' shortcodeadd_shortcode('hbupro_banner', 'hbu_shortcode');